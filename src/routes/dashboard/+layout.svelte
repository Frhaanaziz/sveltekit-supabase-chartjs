<script lang="ts">
	import DashboardLayout from '$lib/components/dashboard/layout/DashboardLayout.svelte';
	import { onMount, setContext } from 'svelte';
	import { themeChange } from 'theme-change';
	import type { LayoutData } from '../$types';

	export let data: LayoutData;

	const session = data.session;
	if (!session) throw new Error('No session data provided to layout');

	setContext('session', session);

	// NOTE: the element that is using one of the theme attributes must be in the DOM on mount
	onMount(() => {
		themeChange(false);
		// ğŸ‘† false parameter is required for svelte
	});
</script>

<DashboardLayout>
	<slot />
</DashboardLayout>
